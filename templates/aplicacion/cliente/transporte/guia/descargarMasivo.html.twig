{% extends 'aplicacion/baseSinMenu.html.twig' %}
{% block title %}Descargar masivo{% endblock %}
{% block content %}
    {{ form_start(form) }}
    <div class="row">
        <div class="col-xl-12">
            <section class="panel">
                <header class="panel-heading">
                    <h2 class="panel-title">Descargar masivo</h2>
                </header>
                <div class="panel-body">
                    <div class="row form-group form-group-sm">
                        <label for="form_cargar" class="col-sm-2 control-label">Cargar:</label>
                        <div class="col-sm-10">
                            {{ form_widget(form.attachment) }}
                        </div>
                    </div>
                </div>
                <footer class="panel-footer">
                    <div style="display: flex; justify-content: space-between;">
                        <a href="" download
                           class="btn btn-sm btn-primary waves-effect waves-themed">Ejemplo
                            estructura</a>
                        <div>
                            {{ form_widget(form.btnCargar, { 'attr': {'class': 'btn btn-sm btn-primary'} }) }}
                        </div>
                        <button id="btnCargando" class="btn btn-danger btn-xs btn-cargando" type="button" disabled="" style="display: none">
                            <span class="spinner-border spinner-border-sm mr-2" role="status" aria-hidden="true"></span>
                            cargar
                        </button>
                    </div>
                </footer>
            </section>

        </div>
    </div>
    {{ form_rest(form) }}
    {{ form_end(form) }}

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        $(document).ready(function () {
            $("#form_btnCargar").click(() => {
                if ($('form').submit()) {
                    if ($("form")[0].checkValidity()) {
                        $("#form_btnCargar").css('display', 'none');
                        $("#btnCargando").css('display', 'block');
                    }
                }
            })
        })
    </script>
{% endblock %}